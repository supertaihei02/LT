<!DOCTYPE html>
<html lang="en-us"><head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>ホスティング最前線</title>
  <meta name="author" content="Taihei Yokosuka">
  <meta name="description" content="Webサイトホスティング先のパターン別決め方ノウハウ">
  <meta name="generator" content="Hugo 0.37.1" />

  
  <link rel="stylesheet" href="/css/custom.css">
  

  <style>
   @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
   @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
   @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);
   @import url(assets/humorsans.css);
   @import url(assets/remark-twemoji.css);
   @import url(assets/twemoji-awesome.css);
  </style>

</head>



<body>
<textarea id="source">
class: center, middle, inverse

#.fonth2[Hosting]
#.fonth6[最前線]
2018/03 01回
---
class: split-50 nopadding bkgpos_00
background-image: url(bkgs/bubble-right.png)

.column_t2.font10em[
&lt;i class=&#34;twa twa-2x twa-hushed&#34; style=&#34;position:absolute; bottom:10px; left:10px; margin:0 !important;&#34;&gt;&lt;/i&gt;
]
.column_t2[.vmiddle.xkcd_font.pushfront.center[
#.red[WHY?]

何故ホスティングサービス？

]]

---
class: split-50 nopadding bkgpos_00
background-image: url(bkgs/bubble-left.png)

.column_t2[.vmiddle.xkcd_font.pushfront.center[
#.blue[BECAUSE]

#### Static Site Generators
・Hugo
・jekyll
・Hexo
・Getsby
etc...

公開するときどこに置いたらいいの？
ホスティングサービスしかないやん？


]]
.column_t2.font10em[
&lt;i class=&#34;twa twa-2x twa-point-up&#34; style=&#34;position:absolute; bottom:10px; right:10px; margin:0 !important;&#34;&gt;&lt;/i&gt;
]


---
class: center, middle, inverse

# HOSTING SERVICE  

## 一言にホスティングサービスと言っても
## 選択の幅は広い


---

# レンタルサーバー

サーバー上の公開領域を契約者同士でシェアするサービス。

### メリット

* 財布に優しい 月数百円〜高くても千円台
* PHPとかPerlとかメールとかだいたい使える
* サーバーの事知らなくても使える


### デメリット

* ファイルの設置方法が基本FTPでセキュリティ上不安
* PHP等のバージョンは指定されたものしか使えない（結構多いけど）
* 他の契約者のサイトにアクセス集中していると遅くなったり
* 他の契約者が変なスクリプト動かしていると遅くなったり
* 攻撃を受けるとすぐ落ちたり
* 素人が多いためサポートの一貫で運営会社が勝手に自分のファイルを触ったり覗いたりがざら

例：XSERVER、さくらインターネット、ロリポップ...

---

# VPS（Virtual Private Server）

1台のサーバーを共有する点ではレンタルサーバーと同一だが、サーバー上の割り当て領域を1台の専用サーバーとして扱う仮想化技術により作成された環境を契約する。

### メリット

* ssh接続によりセキュアにファイル転送可能
* 自由にアプリケーションをインストールできる事が最大の利点
* 割り当て性能を1ユーザーで占有できる

### デメリット

* Webサーバーのインストール等の知識が必要
* セキュリティに問題のあるミドルウェアのアップデート等を自分で対応しないといけない
* サーバーへの相乗り人数によっては共用サーバーの方がパフォーマンスが良いことも
* 拡張時の自由度が低い（基本的に別スペックの新サーバーを再契約、増設時も別ネットワークだったり）


例：さくらのVPS、ConoHa...

---

# クラウドサーバー（Iaas）

仮想化技術によって作られたサーバーを契約する点ではVPSと同一だが、割り当てるネットワーク、CPU、メモリ等のリソースも動的に選択できる。

### メリット

* 拡張性が非常に高いのが最大の利点
* 従量課金制という仕組みがしばしば取られ使った分だけ払えばいい
* 仕組み上、同一のサーバーを用意に複製したり、スナップショット（バックアップ）できる
* ネットワークも構築できるため、クラウド上に堅牢な環境を構築できる

### デメリット

* 柔軟に色々な事ができる分扱いには知識が必須
* 従量課金制のため予算の見積もりがしにくい
* 使った分だけ払うから安いと思いきや以外とそういうケースは少ない
* Webサーバーのインストール等の知識が必要
* セキュリティに問題のあるミドルウェアのアップデート等を自分で対応しないといけない

例：AWS EC2、GCP Cloud Server、 Azure、Heroku...


---

class: center, middle, inverse

# 新たな選択肢

## Static Web Hosting
### 静的WEBホスティング

---

# 静的WEBホスティング

大概がオンラインストレージサービスの拡張機能として静的なファイルに限ってWeb公開できるようにしたもの。  
静的サイトジェネレーターとの相性が抜群にいい。

### メリット

* 安価、**無料**で使えるケースも多々あるのが最大の利点
* 高度に分散されていて、ダウンしないかつ世界中に高速配信できる

### デメリット

* 動的なプログラムは一切動かせない、拡張の余地はない
* 現時点でアクセス制限の方法に制限のあるサービスが多い
* 色々と制約があったりするので注意

紹介していきます。

---
.left-column[
  ## Static Web Hosting
  
  * ### .blue[Github Pages]
  * #### AWS S3
  * #### Firebase Hosting
  * #### Netlify
]
.right-column[

github上のgitリポジトリを公開できる。  
リリース当初から少しずつ機能が充実してきて、
プライベートリポジトリ以外も公開できるようになった（有料会員のみ）、
masterリポジトリ、特定サブディレクトリのWEBルート化ができるようになっている。  
制限付きながら無料利用可能のためカードの登録なしで開始できるのがお手頃でGoodだが反面制限を超える大規模運用はサポートされない。

* 無料利用可能
* Jekyllの自動ビルド
* 独自ドメイン：◯  独自ドメインSSL：×
* アクセス制限はかけられない

** 制限 **

|||
|---|---|
|ストレージ|最大1GB/repo|
|リクエスト数|10万/月|
|帯域|1GB/月|
|ビルド|10/hour|
制限を超えると非公開にされたりgithubからアラートが届くよう

]

---

.left-column[
  ## Static Web Hosting
  
  * #### Github Pages
  * ### .blue[AWS S3]
  * #### Firebase Hosting
  * #### Netlify
]
.right-column[

Amazon Web Service上のストレージサービスを公開する事ができる。  
従量課金ながらもGithub Pagesの制限枠内の規模であれば大抵無料枠内でカバーされるはず、かつ大規模サイトの実運用にも十分対応できる。

* 無料利用枠あり従量課金
* 独自ドメイン：◯  独自ドメインSSL：×
* IPによるアクセス制限が可能

課金ポイントはストレージ・データ転送・リクエスト

|||
|---|---|
|ストレージ|〜 0.025$/GB|
|リクエスト数|GET:$0.00037/千req POST:$0.0047/千req|
|データ転送|〜 $0.14/GB|
無期限無料枠：ストレージ 5 GB、20,000 Get リクエスト、2,000 Put リクエスト
※東京リージョン

ざっくり100万/日アクセスで$15/月くらい


]

---
.left-column[
  ## Static Web Hosting
  
  * #### Github Pages
  * #### AWS S3
  * ### .blue[Firebase Hosting]
  * #### Netlify
]
.right-column[

Google Cloud Platformの一部であるGoogle Firebase上のホスティングサービスで裏側はGCPの技術の組み合わせらしい。  
S3と競合しつつもサービス単体で独自ドメインSSLに対応する手軽さが魅力だがS3では可能なIP等によるアクセス制限には対応しない。  
小規模サイト運営でもSpark(無料)プランを明示的に指定する事で、もしかするとものすごい金額になっているかもという不安を取りはらえる。

* プラン型フリーミアム
* 独自ドメイン：◯  独自ドメインSSL：◯
* IPによるアクセス制限はできない（Cloud Functionを経由させれば可能）

**プラン毎の制限**

|無料(Spark)|$25/月(Flame)|従量制|
|---|---|---|
|ストレージ:1GB  転送:10GB|ストレージ:10GB  転送:50GB|ストレージ:$0.025/GB  転送:$0.15/GB|

]

---

.left-column[
  ## Static Web Hosting
  
  * #### Github Pages
  * #### AWS S3
  * #### Firebase Hosting
  * ### .blue[Netlify]
]
.right-column[

Github、Bitbucket、Gitlabのリポジトリに設置したファイルを静的Webサーバーとして配信してくれるとても高機能なサービス。  
一見高機能だが無料版には当然利用制限があるため付加機能を使うのか、最初から動的ホスティングサービスにすべきか検討すべし。    

* 無料プランでお手軽に始められる
* Jekyll、Grunt、Hugo、Gatsby etc...の自動ビルド
* 独自ドメイン：◯ 独自ドメインSSL：◯
* 有料プラン（Teams Pro $45/月）でアクセス制限可能 

有料プランはそれぞれ機能毎に設定されている

|||
|---|---|
|Functions|URL shorterとか細かいFunctionが用意されている 125k req/月 100時間/月まで無料、$25/月で次の制限まで利用可|
|Form|問い合わせフォームとかに使えるフォーム 100送信/月 10MBアップロードまで無料、$19/月で次の制限まで利用可|
|Identify|ユーザーをログインさせて管理したりできる 1,000 active users 5 invite-only usersまで無料。$99で次の制限まで利用可 ちょっとよくわからない。|


]


---

#### 整理すると選択のポイントは **コスト**、**最大運用規模**、**アクセス制限**の3点

### Github Pages

* .blue[**無料**]だが10万/月以上のアクセスのあるサイトは運用できない
* 独自ドメインSSLは.red[**使えない**]（CDNで回避可能）
* アクセス制限は.red[**できない**]

### AWS S3

* 大規模サイトも運用可能だが.red[**従量課金**]
* 独自ドメインSSLは.red[**使えない**]（CDNで回避可能）
* アクセス制限は.blue[**できる**]

### Firebase Hosting

* .blue[**無料**]〜従量課金プランを選択できる
* 独自ドメインSSLは.blue[**使える**]
* アクセス制限は.red[**firebase cloud function経由**]で.blue[**使える**]

### Netlify

* .blue[**無料**]〜有料プランを選択できる
* 独自ドメインSSLは.blue[**使える**]
* アクセス制限は.red[**$45/月**]で.blue[**使える**]

---
class: split-50 nopadding bkgpos_00
background-image: url(bkgs/bubble-right.png)

.column_t2.font10em[
&lt;i class=&#34;twa twa-2x twa-wink&#34; style=&#34;position:absolute; bottom:10px; left:10px; margin:0 !important;&#34;&gt;&lt;/i&gt;
]
.column_t2[.vmiddle.xkcd_font.pushfront.center[
#.red[Thank u!]



ユースケースに合わせて最適なホスティングサービスを選びましょう！




]]


</textarea>

<script src="assets/remark-0.14.0.min.js"></script>
<script>
      var slideshow = remark.create({
         highlightLanguage: 'javascript',
         highlightStyle: 'tomorrow', 
         highlightLines: true
      });
</script>

 

</body></html>



